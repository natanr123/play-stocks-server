"use strict";
import AlphaVantageService from 'app/service/AlphaVantageService';
import AlphaVantageServiceStub from 'test/stubs/AlphaVantageServiceStub';
import TimeUtilsStub from 'test/stubs/TimeUtilsStub';

import StocksSymbols from 'app/service/StocksSymbols';

import MarketTime from 'app/entity/MarketTime'
import assert from 'assert';
import StocksHistory from 'app/repository/StocksHistory'
import sinon from 'sinon';
import AlphaStocksManager from 'app/stocks/AlphaStocksManager'
import TimeUtils from 'app/service/TimeUtils'


process.on('unhandledRejection', error => {
    // Won't execute
    console.log('unhandledRejection22222', error);
});

// Problematic
describe('TimeUtils', function() {
    AlphaVantageServiceStub.start();
    TimeUtilsStub.stop();
    let clock = null;
    beforeEach(function () {
            });
    after(function () {  });
    this.timeout(2000);


    // it('at 15:00:00 NYSE should be open', ()=>
    // {
    //     let timeStampSeconds = TimeUtils.newYorkToTime('2017-07-13 15:00:00');
    //     clock = sinon.useFakeTimers(timeStampSeconds*1000);
    //     console.log('timeStamp: ',timeStampSeconds,' Date.now: ',Date.now(),' new Date()',new Date());
    //
    //     assert.equal(TimeUtils.isNYSEopen(),true);
    //     clock.restore();
    // });
    //
    // it('at 09:35:00 NYSE should be open', ()=>
    // {
    //     let timeStampSeconds = TimeUtils.newYorkToTime('2017-07-13 09:35:00');
    //     clock = sinon.useFakeTimers(timeStampSeconds*1000);
    //     console.log('timeStamp: ',timeStampSeconds,' Date.now: ',Date.now(),' new Date()',new Date());
    //
    //     assert.equal(TimeUtils.isNYSEopen(),true);
    //     clock.restore();
    // });
    //
    // it('at 09:34:00 NYSE should be closed', ()=>
    // {
    //     let timeStampSeconds = TimeUtils.newYorkToTime('2017-07-13 09:34:00');
    //     clock = sinon.useFakeTimers(timeStampSeconds*1000);
    //     console.log('timeStamp: ',timeStampSeconds,' Date.now: ',Date.now(),' new Date()',new Date());
    //
    //     assert.equal(TimeUtils.isNYSEopen(),false);
    //     clock.restore();
    // });
    //
    // it('at 15:55:00 NYSE should be open', ()=>
    // {
    //     let timeStampSeconds = TimeUtils.newYorkToTime('2017-07-13 15:55:00');
    //     clock = sinon.useFakeTimers(timeStampSeconds*1000);
    //     console.log('timeStamp: ',timeStampSeconds,' Date.now: ',Date.now(),' new Date()',new Date());
    //
    //     assert.equal(TimeUtils.isNYSEopen(),true);
    //     clock.restore();
    // });
    //
    // it('at 15:56:00 NYSE should be close', ()=>
    // {
    //     let timeStampSeconds = TimeUtils.newYorkToTime('2017-07-13 15:56:00');
    //     clock = sinon.useFakeTimers(timeStampSeconds*1000);
    //     console.log('timeStamp: ',timeStampSeconds,' Date.now: ',Date.now(),' new Date()',new Date());
    //
    //     assert.equal(TimeUtils.isNYSEopen(),false);
    //     clock.restore();
    // });



});