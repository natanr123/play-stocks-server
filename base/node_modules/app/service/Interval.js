export default class Interval
{
    period;
    constructor(period)
    {
        this.period = period;
    }

    async forEach(callback)
    {
        while(true) {
            callback();
            await Interval.sleep(this.period);
        }
    }

    static sleep(delay,clock):Promise
    {
        let p = new Promise((resolve)=>{
            setTimeout(()=> {
                resolve();
            }, delay);
        });
        if(clock) {
            //console.log('ticking1001');
            clock.tick(delay + 10);
        }
        return p;
    }
}