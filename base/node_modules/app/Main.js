// @flow
console.log('STARTING: ','Main.js');

import Server from 'app/Server'
import File from 'app/service/File'

process.on('unhandledRejection', error => {
    // Won't execute
    console.log('unhandledRejection: ',new Date());
    console.log('Alpha Stock Server, unhandledRejection33333', error);
    throw error;

});

// async function temp() {
//     let file = await File.createBlank('./out_data/balances.csv');
//     await file.appendLine('adsasdasd');
//     await file.appendLine('adsasdasd');
//     await file.appendLine('adsasdasd');
// }
//
// temp();
let server = new Server();

server.start();









// function logWithLog4js() {
//     let kb = 1024;
//     log4js.configure({
//         appenders: {
//             everything: { type: 'file', filename: 'logs/koajs.log', maxLogSize: 5*kb}
//         },
//         categories: {
//             default: { appenders: [ 'everything' ], level: 'debug' }
//         }
//     });
//     let logger = log4js.getLogger();
//
//     logger.level = 'debug';
//
//     app.use(KoaLogger({'log4js': {'logger': logger,level:'debug'}}));
//
// }